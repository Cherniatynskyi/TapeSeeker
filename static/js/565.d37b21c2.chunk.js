"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[565],{6565:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var i=s(2791),a=s(6227);const o="SearchBar_form__gW7Gj",n="SearchBar_formButton__C-ydM",c="SearchBar_input__bIy50";var l=s(1686),r=s.n(l),m=s(2187),_=s(184);const v=e=>{let{onSubmit:t}=e;const[s,a]=(0,i.useState)("");return(0,_.jsxs)("form",{className:o,onSubmit:e=>{e.preventDefault(),s?(t({query:s}),a("")):r().Notify.failure("Enter your search term")},children:[(0,_.jsx)("button",{className:n,type:"submit",children:(0,_.jsx)(m.eaK,{size:"1.3em"})}),(0,_.jsx)("input",{className:c,type:"text",placeholder:"Search movies",onChange:e=>{a(e.target.value)},value:s})]})};var d=s(7689),h=s(1087);const u={moviesList:"MoviesList_moviesList__P6SP5",movieList2:"MoviesList_movieList2__Au0SC",title:"MoviesList_title__PB2c8",moviesListItem:"MoviesList_moviesListItem__OFqms",img:"MoviesList_img__v4jFC",movieTitle:"MoviesList_movieTitle__CxO8p",thumbsContainer:"MoviesList_thumbsContainer__8kNDv",thumb:"MoviesList_thumb__xQkCm"},x={moviesList:"MoviesList2_moviesList__tXi97",moviesListItem:"MoviesList2_moviesListItem__NXhtt",img:"MoviesList2_img__bTQSX"};var j=s(4869),g=s(1909);const p=e=>{let{movies:t,location:s,listStyle:i}=e;var a=i?u:x;return(0,_.jsx)("ul",{className:a.moviesList,children:t?t.map((e=>{if(e.release_date)var t=e.release_date.split("-");return(0,_.jsxs)(h.rU,{className:a.moviesListItem,to:"/"===s.pathname?"movies/".concat(e.id):"".concat(e.id),state:{from:s},children:[(0,_.jsx)("img",{className:a.img,src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg",alt:e.title}),(0,_.jsx)("p",{className:a.movieTitle,children:e.title?e.title:e.name}),(0,_.jsxs)("div",{className:a.thumbsContainer,children:[(0,_.jsxs)("span",{className:a.thumb,children:[" ",(0,_.jsx)(j.cZx,{size:"1.2em"})," ",t?t[0]:"2023"]}),(0,_.jsxs)("span",{className:a.thumb,children:[" ",(0,_.jsx)(g.MVI,{size:"1.2em"}),e.vote_average.toFixed(1)]}),(0,_.jsxs)("span",{className:a.thumb,children:[" ",(0,_.jsx)(g.$lZ,{size:"1.2em"}),e.original_language]})]}),!i&&(0,_.jsx)("div",{children:"ADDDDD"})]},e.id)})):(0,_.jsx)("h1",{className:a.title,children:"Search for Movies"})})},N="Movies_moviesHeader__oVnRS",M="Movies_filterMenu__mF2Qt",b="Movies_listStyle__KJzzC",f="Movies_listStyleButton__jAuUG",y="Movies_styleButtonActive__n7IfG",C="Movies_backToTopButton__7yEpE",L="Movies_mediaButtonContainer__MvXa2",S="Movies_mediaButton__mlGKA",k="Movies_mediaButtonActive__Dd-q0",w="Movies_pagination__wqHtT",B="Movies_paginationButton__abiwn",T="Movies_paginationPage__1TCym";var z=s(2202);const D=()=>{const[e,t]=(0,i.useState)(!0),[s,o]=(0,i.useState)(!0),[n,c]=(0,i.useState)(null),[l,u]=(0,i.useState)(1),x=(0,d.TH)(),[j,g]=(0,h.lr)(),D="/movies"===x.pathname?"movie":"tv";(0,i.useEffect)((()=>{const t=j.get("q");t?(async e=>{try{const t=await a.z1(e,l,D);if(0===t.length)return void r().Notify.failure("No more movies");c(t)}catch(t){r().Notify.failure("Error")}})(t):(async()=>{if(e){const e=await a.aV("/trending/movie/day",l);c(e)}else{const e=await a.aV("/trending/tv/day",l);c(e)}})()}));const I=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},q=s=>{e&&"Movies"===s.target.textContent||!e&&"Shows"===s.target.textContent||(c(null),u(1),t((e=>!e)))},A=e=>{I(),"dec"===e.target.id?u((e=>e-1)):u((e=>e+1))},P=e=>{s&&"grid"===e.target.id||!s&&"list"===e.target.id||(o((e=>!e)),console.log("Change style"),console.log(n))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:N,children:[(0,_.jsx)(v,{onSubmit:e=>{let{query:t}=e;u(1),g({q:t}),c(null)}}),(0,_.jsxs)("div",{className:L,children:[(0,_.jsx)(h.rU,{to:"/movies",onClick:e=>q(e),className:"".concat(S," ").concat(e&&k),children:"Movies"}),(0,_.jsx)(h.rU,{to:"/tv",onClick:e=>q(e),className:"".concat(S," ").concat(!e&&k),children:"Shows"})]}),(0,_.jsxs)("ul",{className:M,children:[(0,_.jsx)("li",{children:"genre"}),(0,_.jsx)("li",{children:"year filter"}),(0,_.jsx)("li",{children:"rating"})]}),(0,_.jsxs)("ul",{className:b,children:[(0,_.jsx)("button",{onClick:P,id:"grid",className:"".concat(f," ").concat(s&&y),children:(0,_.jsx)(m.idP,{})}),(0,_.jsx)("button",{onClick:P,id:"list",className:"".concat(f," ").concat(!s&&y),children:(0,_.jsx)(z.AeW,{})})]})]}),(0,_.jsx)(p,{movies:n,location:x,currentPage:l,listStyle:s}),(0,_.jsxs)("div",{className:w,children:[(0,_.jsx)("button",{className:B,disabled:1===l,onClick:e=>A(e),id:"dec",children:"Back"}),(0,_.jsx)("span",{className:T,children:l}),(0,_.jsx)("button",{className:B,onClick:e=>A(e),id:"inc",children:"Next"})]}),(0,_.jsx)("button",{onClick:I,className:C,children:(0,_.jsx)(z.ZTc,{size:"2em"})})]})}}}]);
//# sourceMappingURL=565.d37b21c2.chunk.js.map