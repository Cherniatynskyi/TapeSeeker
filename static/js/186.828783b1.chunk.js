"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[186],{4186:(e,s,a)=>{a.r(s),a.d(s,{default:()=>L});var i=a(7689),o=a(2791),r=a(6227),n=a(1686),l=a.n(n);const t={heroContainer:"DetailsHero_heroContainer__50wmX",backButton:"DetailsHero_backButton__Q90zY",poster:"DetailsHero_poster__oZuM+",heroTextContainer:"DetailsHero_heroTextContainer__qujEh",heroTitle:"DetailsHero_heroTitle__5Rcx6",heroDesc:"DetailsHero_heroDesc__2g2fL",heroNav:"DetailsHero_heroNav__NgCOw",heroButton:"DetailsHero_heroButton__DSrXS",heroOptions:"DetailsHero_heroOptions__bNZQm",heroOptionItem:"DetailsHero_heroOptionItem__NUdnv",companiesContainer:"DetailsHero_companiesContainer__yWnJN",compLogos:"DetailsHero_compLogos__AV2uf"};var c=a(1087),d=a(4316),m=a(2202),_=a(9108),h=a(4330);const p="TrailerModal_Overlay__Xpx18",v="TrailerModal_Modal__QlYNH",x="TrailerModal_frameStyle__jmkOT",j="TrailerModal_modalCloseButton__KAl58";var u=a(2187),f=a(9170),g=a(184);const N=e=>{var s;let{onClose:a,movieVids:i}=e;const r=(0,o.useRef)(!1),n=null===i||void 0===i||null===(s=i.results)||void 0===s?void 0:s.find((e=>e.name.includes("Official Trailer")||e.name.includes("Trailer")));(0,f.Ni)(),(0,o.useEffect)((()=>(!0===r.current&&window.addEventListener("keydown",l),()=>{r.current=!0,window.removeEventListener("keydown",l)})));const l=e=>{"Escape"===e.code&&a()};return(0,g.jsx)("div",{className:p,onClick:e=>{e.target===e.currentTarget&&a()},children:(0,g.jsxs)("div",{className:v,children:[n?(0,g.jsx)("iframe",{className:x,title:n.name,allowFullScreen:!0,src:"https://www.youtube.com/embed/".concat(n.key)}):(0,g.jsx)("div",{style:{color:"white",fontSize:"4em",paddingTop:"80px"},children:"No trailers "}),(0,g.jsx)("button",{className:j,onClick:()=>{a()},children:(0,g.jsx)(u.bjh,{color:"white",size:"4em"})})]})})},w=e=>{var s,a;let{movie:r,movieVids:n}=e;const l=(0,i.TH)(),p=(0,o.useRef)(null!==(s=null===(a=l.state)||void 0===a?void 0:a.from)&&void 0!==s?s:"/"),[v,x]=(0,o.useState)(!1);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{children:[console.log(l),console.log(l.state),(0,g.jsxs)("div",{className:t.heroContainer,style:{backgroundImage:'linear-gradient(0deg, #141414 10%, rgba(20, 20, 20, .7) 100%), url("https://image.tmdb.org/t/p/original'.concat(r.backdrop_path,'")')},children:[(0,g.jsxs)(c.rU,{className:t.backButton,to:p.current,children:[(0,g.jsx)(h.D_,{})," Back to movies"]}),(0,g.jsx)("div",{className:t.posterWrap,children:(0,g.jsx)("img",{className:t.poster,src:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),alt:""})}),(0,g.jsxs)("div",{className:t.heroTextContainer,children:[(0,g.jsx)("h2",{className:t.heroTitle,children:r.title?r.title:r.name}),(0,g.jsx)("p",{className:t.heroDesc,children:r.overview}),(0,g.jsxs)("div",{className:t.heroNav,children:[(0,g.jsxs)("button",{onClick:()=>{x(!0)},className:t.heroButton,children:[(0,g.jsx)(d.KP$,{size:"1.2em"}),"View Trailer"]}),v&&(0,g.jsx)(N,{onClose:()=>{x(!1)},movieVids:n}),(0,g.jsxs)("div",{className:t.heroOptions,children:[(0,g.jsx)("button",{className:t.heroOptionItem,children:(0,g.jsx)(m.BgW,{className:t.heroIcon,size:"1.3em"})}),(0,g.jsx)("button",{className:t.heroOptionItem,children:(0,g.jsx)(d.fSQ,{className:t.heroIcon,size:"1.3em"})}),(0,g.jsx)("button",{className:t.heroOptionItem,children:(0,g.jsx)(_.DZs,{className:t.heroIcon,size:"1.3em"})})]})]})]}),(0,g.jsx)("div",{className:t.companiesContainer,children:r.production_companies&&r.production_companies.map((e=>(0,g.jsx)("img",{className:t.compLogos,src:"https://image.tmdb.org/t/p/w300".concat(e.logo_path),alt:""},e.id)))})]})]})})};var I=a(5717);const D="Cast_slider__fdXul",b="Cast_actorContainer__6hdSw",k="Cast_role__9xrEk",C="Cast_name__XM+D+",y="Cast_img__D7ioB",B=()=>{const{movieId:e}=(0,i.UO)(),[s,a]=(0,o.useState)(null),n=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{(async()=>{if(n.current)try{const s=await r.TP(e,"/credits");a(s.cast)}catch(s){alert("error")}n.current=!1})()}),[e]),(0,g.jsx)(g.Fragment,{children:s&&(0,g.jsx)("div",{children:(0,g.jsx)(I.Z,{className:D,dots:!1,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:3,arrows:!0,children:s.map((e=>(0,g.jsx)("li",{className:b,children:(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{className:y,src:e.profile_path?"https://image.tmdb.org/t/p/w200".concat(e.profile_path):"https://cdn.pixabay.com/photo/2016/04/01/10/11/avatar-1299805_1280.png",alt:e.name}),(0,g.jsx)("p",{className:C,children:e.name.length>14?e.name.split(" ")[1]:e.name}),(0,g.jsx)("p",{className:k,children:e.character.length>14?e.character.split(" ")[0]:e.character})]})},e.id)))})})})},T={infoContainer:"DetailsInfo_infoContainer__drlhB",mainInfo:"DetailsInfo_mainInfo__0bEF+",mainInfoBox:"DetailsInfo_mainInfoBox__x5Fby",castInfoBox:"DetailsInfo_castInfoBox__TXUEc",articleInfo:"DetailsInfo_articleInfo__eEiCN",itemsList:"DetailsInfo_itemsList__PWGJt",itemWrap:"DetailsInfo_itemWrap__z2hrQ",companiesList:"DetailsInfo_companiesList__wH9nw",compWrap:"DetailsInfo_compWrap__2KlEh",imgWrap:"DetailsInfo_imgWrap__CjUM6",companyImg:"DetailsInfo_companyImg__-3E+H",detailsYear:"DetailsInfo_detailsYear__GqXSg",progressBar:"DetailsInfo_progressBar__HspgA",VideoSliderWrap:"DetailsInfo_VideoSliderWrap__1gzGf",frameStyle:"DetailsInfo_frameStyle__0DG7o",slider:"DetailsInfo_slider__Ueag8",reviewsLink:"DetailsInfo_reviewsLink__s4ezR"},S=e=>{var s;let{movieVids:a}=e;return(0,g.jsx)(g.Fragment,{children:a&&(0,g.jsx)("div",{children:(0,g.jsx)(I.Z,{className:T.slider,dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,children:null===a||void 0===a||null===(s=a.results)||void 0===s?void 0:s.map((e=>(0,g.jsx)("iframe",{className:T.frameStyle,title:e.name,allowFullScreen:!0,src:"https://www.youtube.com/embed/".concat(e.key)},e.key)))})})})},H=e=>{var s,a,i,o;let{movie:r,movieVids:n}=e;const l={background:"radial-gradient(closest-side, #1A1A1A 79%, transparent 80% 100%), conic-gradient(rgb(243, 208, 86) ".concat(r.vote_average&&10*r.vote_average.toFixed(1),"%, #2f2f2f 0)")};return(0,g.jsxs)("div",{className:T.infoContainer,children:[(0,g.jsxs)("div",{className:T.mainInfo,children:[(0,g.jsxs)("div",{className:T.mainInfoBox,children:[(0,g.jsx)("span",{children:"Description"}),(0,g.jsx)("p",{children:r.overview})]}),(0,g.jsxs)("div",{className:"".concat(T.mainInfoBox," ").concat(T.castInfoBox),children:[(0,g.jsx)("span",{children:"Cast"}),(0,g.jsx)(B,{})]}),(0,g.jsxs)("div",{className:T.mainInfoBox,children:[(0,g.jsx)("span",{children:"Videos"}),console.log(n),(0,g.jsx)("div",{className:T.VideoSliderWrap,children:(0,g.jsx)(S,{movieVids:n})})]}),(0,g.jsxs)("div",{className:T.mainInfoBox,children:[(0,g.jsx)("span",{children:"Reviews"}),(0,g.jsx)(c.rU,{className:T.reviewsLink,to:"reviews",children:"Click to see reviews"})]})]}),(0,g.jsxs)("div",{className:T.articleInfo,children:[(0,g.jsxs)("div",{className:T.articleBlock,children:[(0,g.jsxs)("p",{children:[(0,g.jsx)(d.tpH,{})," Released year"]}),(0,g.jsx)("span",{className:T.detailsYear,children:(null===r||void 0===r?void 0:r.release_date)&&r.release_date.split("-")[0]})]}),(0,g.jsxs)("div",{className:T.articleBlock,children:[(0,g.jsx)("p",{children:"Rating"}),(0,g.jsx)("div",{children:(0,g.jsx)("div",{style:l,className:T.progressBar,children:(0,g.jsx)("span",{children:null===r||void 0===r||null===(s=r.vote_average)||void 0===s?void 0:s.toFixed(1)})})})]}),(0,g.jsxs)("div",{className:T.articleBlock,children:[(0,g.jsx)("p",{children:"genres"}),(0,g.jsx)("ul",{className:T.itemsList,children:null===r||void 0===r||null===(a=r.genres)||void 0===a?void 0:a.map((e=>(0,g.jsx)("div",{className:T.itemWrap,children:e.name},e.id)))})]}),(0,g.jsxs)("div",{className:T.articleBlock,children:[(0,g.jsx)("p",{children:"Languages"}),(0,g.jsx)("ul",{className:T.itemsList,children:null===r||void 0===r||null===(i=r.spoken_languages)||void 0===i?void 0:i.map((e=>(0,g.jsx)("div",{className:T.itemWrap,children:e.name},e.name)))})]}),(0,g.jsxs)("div",{className:T.articleBlock,children:[(0,g.jsx)("p",{children:"Production studios"}),(0,g.jsx)("ul",{className:T.companiesList,children:null===r||void 0===r||null===(o=r.production_companies)||void 0===o?void 0:o.map((e=>(0,g.jsxs)("div",{className:"".concat(T.itemWrap," ").concat(T.compWrap),children:[(0,g.jsx)("span",{className:T.companyName,children:e.name}),(0,g.jsx)("div",{className:T.imgWrap,children:(0,g.jsx)("img",{className:T.companyImg,src:e.logo_path?"https://image.tmdb.org/t/p/w300".concat(e.logo_path):"https://pic.onlinewebfonts.com/thumbnails/icons_360869.svg",alt:""})})]},e.id)))})]})]})]})},L=()=>{const[e,s]=(0,o.useState)({}),[a,n]=(0,o.useState)({}),{movieId:t}=(0,i.UO)(),c=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{window.scrollTo({top:0,left:0});(async()=>{if(c.current){c.current=!1;try{const e=await r.TP(t);s(e);const a=await r.TP(t,"/videos");n(a)}catch(e){l().Notify.failure("Error")}}})()}),[t]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(w,{movie:e,movieVids:a}),(0,g.jsx)(H,{movie:e,movieVids:a}),(0,g.jsx)("div",{}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)("div",{children:"Loading...."}),children:(0,g.jsx)(i.j3,{})})]})}}}]);
//# sourceMappingURL=186.828783b1.chunk.js.map