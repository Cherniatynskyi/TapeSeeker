{"version":3,"file":"static/js/576.95902c1c.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","pages/Movies/Movies.jsx","services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"formButton\":\"SearchBar_formButton__C-ydM\",\"input\":\"SearchBar_input__bIy50\"};","import { useState } from \"react\";\nimport css from './SearchBar.module.css'\nimport Notiflix from 'notiflix';\n\nexport const SearchBar = ({onSubmit}) => {\n    const [query, setQuery] = useState('')\n\n    const handleChange = (e) => {\n        setQuery(e.target.value)\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if (!query) {\n        Notiflix.Notify.failure('Enter your search term')\n        return\n    }\n        onSubmit({query})\n    }\n\n  \n        return (\n            <header >\n                <form className={css.form} onSubmit={handleSubmit}>\n                    <button className={css.formButton} type=\"submit\">\n                    <span>Search</span>\n                    </button>\n                    <input\n                        className={css.input}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search movies\"\n                        onChange={handleChange}\n                        value={query}\n                    />\n                </form>\n            </header>\n        )\n}","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"title\":\"MoviesList_title__PB2c8\",\"moviesListItem\":\"MoviesList_moviesListItem__OFqms\",\"img\":\"MoviesList_img__v4jFC\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\"};","import css from './MoviesList.module.css'\nimport {Link} from 'react-router-dom'\nimport { CiCalendarDate } from \"react-icons/ci\";\nimport { MdStar } from \"react-icons/md\";\nimport { MdLanguage } from \"react-icons/md\";\n\nexport const MoviesList = ({movies, location}) =>{\n\n    return (<ul className={css.moviesList}>\n        {movies ? movies.map(movie => {\n            if(movie.release_date){\n                var splitted = movie.release_date.split(\"-\")   \n            }\n            return(\n             <Link className={css.moviesListItem} key={movie.id} to={location.pathname === '/' ? `movies/${movie.id}`: `${movie.id}`} state={{from: location}}>\n                <li>\n                    <img className={css.img} src={movie.poster_path ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`: 'https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg'} alt={movie.title}/>\n                    <p className={css.movieTitle} >{movie.title ? movie.title : movie.name}</p>\n                        <div className={css.thumbsContainer}>\n                            <span> <CiCalendarDate size=\"1.2em\" /> {splitted ? splitted[0] : '2023'}</span>\n                            <span> <MdStar size=\"1.2em\" />{movie.vote_average.toFixed(1)}</span>\n                            <span> <MdLanguage size=\"1.2em\" />{movie.original_language}</span>\n                        </div>\n                </li>\n            </Link>)\n        }): <h1 className={css.title}>Search for Movies</h1>}\n    </ul>  )\n}\n\n\n","import { useState, useEffect, useRef} from \"react\"\nimport * as API from '../../services/movies-api'\nimport { SearchBar } from \"../../components/SearchBar/SearchBar\"\nimport {useSearchParams, useLocation} from 'react-router-dom'\nimport { MoviesList } from \"components/MoviesList/MoviesList\"\nimport Notiflix from 'notiflix';\n\nconst Movies = () =>{\n    const [searchResult, setSearchResult] = useState(null)\n    const [page, setPage] = useState(1)\n    const location = useLocation()\n    const [searchParams, setSearchParams] = useSearchParams();\n    const firstRender = useRef(true)\n    \n    useEffect(() => {\n        const q = searchParams.get('q')    \n                const getMoviesList = async()=>{\n                    try{   \n                        if(firstRender.current === true){\n                            const fetchedMovie = await API.getMoviesList(`/movie/popular`, page)\n                            setSearchResult(prevState => prevState? [...prevState, ...fetchedMovie] : fetchedMovie)\n                            console.log(\"movies\")\n                        }\n                        firstRender.current = true\n                        return \n                  \n                    }\n                    catch(error){Notiflix.Notify.failure('Error')}\n        \n                }\n                const getMoviesByQuery = async(q) =>{\n                \n                    try{\n                        const fetchedMovie = await API.searchMovies(q, page)\n                        setSearchResult(prevState => prevState? [...prevState, ...fetchedMovie] : fetchedMovie)\n                        console.log(\"Fetched\")\n                    }\n                    catch(error){Notiflix.Notify.failure('Error')}\n                }\n                if(!q){\n                    getMoviesList()\n                    return\n                }\n                getMoviesByQuery(q)\n        return()=>{\n            firstRender.current = true\n        }\n\n       }, [searchParams, page])\n\n    \n\n    \n    const formHandler = ({ query }) => {\n        setPage(1)\n        setSearchParams({q: query})\n        setSearchResult(null)\n    }\n\n    const handlePageChange = () =>{\n        setPage(prev => prev+1)\n    }\n    \n\n    \n    return ( \n        <div>\n            <SearchBar onSubmit={formHandler}/>\n            <MoviesList movies={searchResult} location={location}/> \n            <button onClick={handlePageChange}>load more</button>\n        </div>)\n}   \n\nexport default Movies\n\n","import axios from 'axios'\n\nconst BASE_URL = 'https://api.themoviedb.org/3'\nconst API_KEY = 'f331f91cb9692f1df13f3cba648b2743'\n\nexport const getMovies = async (type) =>{\n    const trendMovies = await axios({ url: `${BASE_URL}${type}?api_key=${API_KEY}`, method: \"GET\" })\n    return trendMovies.data.results;\n\n}\n\nexport const getMoviesList = async (type , page) =>{\n    const movieList = await axios({ url: `${BASE_URL}${type}?api_key=${API_KEY}&page=${page}`, method: \"GET\" })\n    return movieList.data.results;\n\n}\n\nexport const getMovieDetails = async(movieId, type) => {\n    const response = await axios({ url: `${BASE_URL}/movie/${movieId}${type}?api_key=${API_KEY}`, method: \"GET\" })\n    return response.data\n}\n\nexport const searchMovies = async(query, page) => {\n    const response = await axios({ url: `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`, method: \"GET\" })\n    return response.data.results\n}\n\n"],"names":["SearchBar","_ref","onSubmit","query","setQuery","useState","_jsx","children","_jsxs","className","css","e","preventDefault","Notiflix","failure","type","autoComplete","autoFocus","placeholder","onChange","target","value","MoviesList","movies","location","moviesList","map","movie","release_date","splitted","split","Link","moviesListItem","to","pathname","concat","id","state","from","img","src","poster_path","alt","title","movieTitle","name","thumbsContainer","CiCalendarDate","size","MdStar","vote_average","toFixed","MdLanguage","original_language","Movies","searchResult","setSearchResult","page","setPage","useLocation","searchParams","setSearchParams","useSearchParams","firstRender","useRef","useEffect","q","get","async","fetchedMovie","API","prevState","console","log","error","getMoviesByQuery","current","getMoviesList","onClick","handlePageChange","prev","BASE_URL","API_KEY","getMovies","axios","url","method","data","results","getMovieDetails","movieId","searchMovies"],"sourceRoot":""}