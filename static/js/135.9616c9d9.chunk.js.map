{"version":3,"file":"static/js/135.9616c9d9.chunk.js","mappings":"qMACA,QAAmC,uCAAnC,EAA8F,wCAA9F,EAAmJ,iC,aCKnJ,MAoDA,EApDqBA,KAAM,IAADC,EAAAC,EAEtB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CAAC,IAC9B,QAACC,IAAWC,EAAAA,EAAAA,MACZC,GAAYC,EAAAA,EAAAA,SAAO,IACnB,MAACC,EAAK,aAAEC,EAAY,YAAEC,EAAW,OAAEC,EAAM,SAAEC,GAAYX,EACvDY,GAAWC,EAAAA,EAAAA,MACXC,GAAmBR,EAAAA,EAAAA,QAA2B,QAArBR,EAAe,QAAfC,EAACa,EAASG,aAAK,IAAAhB,OAAA,EAAdA,EAAgBiB,YAAI,IAAAlB,EAAAA,EAAI,WAiBxD,OAfAmB,EAAAA,EAAAA,YAAU,KACQC,WACd,GAAGb,EAAUc,QAAQ,CACjBd,EAAUc,SAAU,EACpB,IACI,MAAMC,QAAqBC,EAAAA,GAAoBlB,GAC/CF,EAASmB,EACb,CACA,MAAME,GAAOC,MAAM,QAAQ,CAC/B,GAEHC,EAAU,GACR,CAACrB,KAIAsB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,UAAWC,EAAgBC,GAAIlB,EAAiBK,QAAQQ,SAAC,oBAC/DF,EAAAA,EAAAA,MAAA,OAAKK,UAAWC,EAAqBJ,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKK,IAAKxB,GAAW,kCAAAyB,OAAsCzB,GAAe0B,IAAK5B,KAC/EkB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,KAAAD,SAAIpB,KACJkB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,UAAyB,IAAjBnB,EAAqB4B,KAAKC,KAAoB,GAAd7B,GAAkB,GAAK,qBAClEoB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,cACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAIhB,KACJiB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,YACHC,EAAAA,EAAAA,KAAA,MAAAD,SACmC,IAA9BW,OAAOC,KAAKvC,GAAOwC,QAAgB9B,EAAO+B,KAAIC,IAASd,EAAAA,EAAAA,KAAA,MAAAD,SAAoBe,EAAMC,MAAjBD,EAAME,eAInFnB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAsBJ,UAACC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACG,GAAG,OAAML,SAAC,YACtDC,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAsBJ,UAACC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACG,GAAG,UAASL,SAAC,kBAE7DC,EAAAA,EAAAA,KAACiB,EAAAA,SAAQ,CAACC,UAAUlB,EAAAA,EAAAA,KAAA,OAAAD,SAAK,gBAAkBA,UACvCC,EAAAA,EAAAA,KAACmB,EAAAA,GAAM,QAEZ,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsContainer\":\"MovieDetails_detailsContainer__Y0Fjr\",\"detailsMenuButton\":\"MovieDetails_detailsMenuButton__g9Nio\",\"backButton\":\"MovieDetails_backButton__pPF5M\"};","import { Link, useParams, Outlet, useLocation } from 'react-router-dom'\nimport {useState, useEffect, useRef, Suspense} from 'react'\nimport * as API from '../../services/movies-api'\n\nimport css from './MovieDetails.module.css'\n\nconst MovieDetails = () =>{\n\n    const [movie, setMovie] = useState({})\n    const {movieId} = useParams()\n    const effectRun = useRef(true)\n    const {title, vote_average, poster_path, genres, overview} = movie\n    const location = useLocation()\n    const backLinkLocation = useRef(location.state?.from ?? '/movies')\n\n    useEffect(() => {\n     const getMovie = async () =>{\n        if(effectRun.current){\n            effectRun.current = false\n            try{\n                const fetchedMovie = await API.getMovieDetails(movieId)\n                setMovie(fetchedMovie)\n            }\n            catch(error){alert('error')}\n        }\n     }\n     getMovie()\n    }, [movieId])\n\n\n    return (\n        <>\n            <Link className={css.backButton} to={backLinkLocation.current}>Back to movies</Link>\n            <div className={css.detailsContainer}>\n                <img src={poster_path && `https://image.tmdb.org/t/p/w300${poster_path}`} alt={title} />\n                <div>\n                    <p>{title}</p>\n                    <p>Score: {vote_average !== 0 ? Math.ceil((vote_average)*10)/10 : 'No reviews yet'}</p>\n                    <p>Overview</p>\n                    <p>{overview}</p>\n                    <p>Genres</p>\n                    <ul>\n                        {Object.keys(movie).length !== 0 && genres.map(genre => <li key={genre.id}>{genre.name}</li>)}\n                    </ul>\n                </div>\n            </div>\n            <ul>\n                <li className={css.detailsMenuButton}><Link to='cast'>Cast</Link></li>\n                <li className={css.detailsMenuButton}><Link to='reviews'>Reviews</Link></li>\n            </ul>\n            <Suspense fallback={<div>Loading....</div>}>\n                <Outlet/>\n            </Suspense>\n        </>\n        \n    )\n}\n\nexport default MovieDetails"],"names":["MovieDetails","_location$state$from","_location$state","movie","setMovie","useState","movieId","useParams","effectRun","useRef","title","vote_average","poster_path","genres","overview","location","useLocation","backLinkLocation","state","from","useEffect","async","current","fetchedMovie","API","error","alert","getMovie","_jsxs","_Fragment","children","_jsx","Link","className","css","to","src","concat","alt","Math","ceil","Object","keys","length","map","genre","name","id","Suspense","fallback","Outlet"],"sourceRoot":""}