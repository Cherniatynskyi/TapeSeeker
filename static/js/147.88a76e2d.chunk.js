"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[147],{3147:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var i=a(7689),o=a(2791),t=a(1207),r=a(1686),n=a.n(r);const l={heroContainer:"DetailsHero_heroContainer__50wmX",backButton:"DetailsHero_backButton__Q90zY",poster:"DetailsHero_poster__oZuM+",heroTextContainer:"DetailsHero_heroTextContainer__qujEh",heroTitle:"DetailsHero_heroTitle__5Rcx6",heroDesc:"DetailsHero_heroDesc__2g2fL",heroNav:"DetailsHero_heroNav__NgCOw",heroButton:"DetailsHero_heroButton__DSrXS",heroOptions:"DetailsHero_heroOptions__bNZQm",heroOptionItem:"DetailsHero_heroOptionItem__NUdnv",companiesContainer:"DetailsHero_companiesContainer__yWnJN",compLogos:"DetailsHero_compLogos__AV2uf"};var c=a(1087),d=a(4316),m=a(2202),h=a(9108),_=a(4330),p=a(184);const v=e=>{var s,a;let{movie:t}=e;const r=(0,i.TH)(),n=(0,o.useRef)(null!==(s=null===(a=r.state)||void 0===a?void 0:a.from)&&void 0!==s?s:"/");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{children:[console.log(t),(0,p.jsxs)("div",{className:l.heroContainer,style:{backgroundImage:'linear-gradient(0deg, #141414 10%, rgba(20, 20, 20, .7) 100%), url("https://image.tmdb.org/t/p/original'.concat(t.backdrop_path,'")')},children:[(0,p.jsxs)(c.rU,{className:l.backButton,to:n.current,children:[(0,p.jsx)(_.D_,{})," Back to movies"]}),(0,p.jsx)("div",{className:l.posterWrap,children:(0,p.jsx)("img",{className:l.poster,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:""})}),(0,p.jsxs)("div",{className:l.heroTextContainer,children:[(0,p.jsx)("h2",{className:l.heroTitle,children:t.title?t.title:t.name}),(0,p.jsx)("p",{className:l.heroDesc,children:t.overview}),(0,p.jsxs)("div",{className:l.heroNav,children:[(0,p.jsxs)(c.rU,{className:l.heroButton,to:"/movies/".concat(t.id),children:[(0,p.jsx)(d.KP$,{size:"1.2em"})," Click to view"]}),(0,p.jsxs)("div",{className:l.heroOptions,children:[(0,p.jsx)("button",{className:l.heroOptionItem,children:(0,p.jsx)(m.BgW,{className:l.heroIcon,size:"1.3em"})}),(0,p.jsx)("button",{className:l.heroOptionItem,children:(0,p.jsx)(d.fSQ,{className:l.heroIcon,size:"1.3em"})}),(0,p.jsx)("button",{className:l.heroOptionItem,children:(0,p.jsx)(h.DZs,{className:l.heroIcon,size:"1.3em"})})]})]})]}),(0,p.jsx)("div",{className:l.companiesContainer,children:t.production_companies&&t.production_companies.map((e=>(0,p.jsx)("img",{className:l.compLogos,src:"https://image.tmdb.org/t/p/w300".concat(e.logo_path),alt:""},e.id)))})]})]})})};var x=a(5717);const j="Cast_slider__fdXul",u="Cast_actorContainer__6hdSw",f="Cast_role__9xrEk",g="Cast_name__XM+D+",N="Cast_img__D7ioB",I=()=>{const{movieId:e}=(0,i.UO)(),[s,a]=(0,o.useState)(null),r=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{(async()=>{if(r.current)try{const s=await t.TP(e,"/credits");a(s.cast)}catch(s){alert("error")}r.current=!1})()}),[e]),(0,p.jsx)(p.Fragment,{children:s&&(0,p.jsx)("div",{children:(0,p.jsx)(x.Z,{className:j,dots:!1,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:3,arrows:!0,children:s.map((e=>(0,p.jsx)("li",{className:u,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{className:N,src:e.profile_path?"https://image.tmdb.org/t/p/w200".concat(e.profile_path):"https://cdn.pixabay.com/photo/2016/04/01/10/11/avatar-1299805_1280.png",alt:e.name}),(0,p.jsx)("p",{className:g,children:e.name.length>14?e.name.split(" ")[1]:e.name}),(0,p.jsx)("p",{className:f,children:e.character.length>14?e.character.split(" ")[0]:e.character})]})},e.id)))})})})},w={infoContainer:"DetailsInfo_infoContainer__drlhB",mainInfo:"DetailsInfo_mainInfo__0bEF+",mainInfoBox:"DetailsInfo_mainInfoBox__x5Fby",articleInfo:"DetailsInfo_articleInfo__eEiCN",itemsList:"DetailsInfo_itemsList__PWGJt",itemWrap:"DetailsInfo_itemWrap__z2hrQ",companiesList:"DetailsInfo_companiesList__wH9nw",compWrap:"DetailsInfo_compWrap__2KlEh",imgWrap:"DetailsInfo_imgWrap__CjUM6",companyImg:"DetailsInfo_companyImg__-3E+H",detailsYear:"DetailsInfo_detailsYear__GqXSg",progressBar:"DetailsInfo_progressBar__HspgA",VideoSliderWrap:"DetailsInfo_VideoSliderWrap__1gzGf",frameStyle:"DetailsInfo_frameStyle__0DG7o",slider:"DetailsInfo_slider__Ueag8",reviewsLink:"DetailsInfo_reviewsLink__s4ezR"},D=e=>{var s;let{movieVids:a}=e;return(0,p.jsx)(p.Fragment,{children:a&&(0,p.jsx)("div",{children:(0,p.jsx)(x.Z,{className:w.slider,dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,children:null===a||void 0===a||null===(s=a.results)||void 0===s?void 0:s.map((e=>(0,p.jsx)("iframe",{className:w.frameStyle,title:e.name,allowfullscreen:"true",src:"https://www.youtube.com/embed/".concat(e.key)},e.key)))})})})},b=e=>{var s,a,i,o;let{movie:t,movieVids:r}=e;const n={background:"radial-gradient(closest-side, #1A1A1A 79%, transparent 80% 100%), conic-gradient(rgb(243, 208, 86) ".concat(t.vote_average&&10*t.vote_average.toFixed(1),"%, #2f2f2f 0)")};return(0,p.jsxs)("div",{className:w.infoContainer,children:[(0,p.jsxs)("div",{className:w.mainInfo,children:[(0,p.jsxs)("div",{className:w.mainInfoBox,children:[(0,p.jsx)("span",{children:"Description"}),(0,p.jsx)("p",{children:t.overview})]}),(0,p.jsxs)("div",{className:w.mainInfoBox,children:[(0,p.jsx)("span",{children:"Cast"}),(0,p.jsx)(I,{})]}),(0,p.jsxs)("div",{className:w.mainInfoBox,children:[(0,p.jsx)("span",{children:"Videos"}),console.log(r),(0,p.jsx)("div",{className:w.VideoSliderWrap,children:(0,p.jsx)(D,{movieVids:r})})]}),(0,p.jsxs)("div",{className:w.mainInfoBox,children:[(0,p.jsx)("span",{children:"Reviews"}),(0,p.jsx)(c.rU,{className:w.reviewsLink,to:"reviews",children:"Click to see reviews"})]})]}),(0,p.jsxs)("div",{className:w.articleInfo,children:[(0,p.jsxs)("div",{className:w.articleBlock,children:[(0,p.jsxs)("p",{children:[(0,p.jsx)(d.tpH,{})," Released year"]}),(0,p.jsx)("span",{className:w.detailsYear,children:(null===t||void 0===t?void 0:t.release_date)&&t.release_date.split("-")[0]})]}),(0,p.jsxs)("div",{className:w.articleBlock,children:[(0,p.jsx)("p",{children:"Rating"}),(0,p.jsx)("div",{children:(0,p.jsx)("div",{style:n,className:w.progressBar,children:(0,p.jsx)("span",{children:null===t||void 0===t||null===(s=t.vote_average)||void 0===s?void 0:s.toFixed(1)})})})]}),(0,p.jsxs)("div",{className:w.articleBlock,children:[(0,p.jsx)("p",{children:"genres"}),(0,p.jsx)("ul",{className:w.itemsList,children:null===t||void 0===t||null===(a=t.genres)||void 0===a?void 0:a.map((e=>(0,p.jsx)("div",{className:w.itemWrap,children:e.name},e.id)))})]}),(0,p.jsxs)("div",{className:w.articleBlock,children:[(0,p.jsx)("p",{children:"Languages"}),(0,p.jsx)("ul",{className:w.itemsList,children:null===t||void 0===t||null===(i=t.spoken_languages)||void 0===i?void 0:i.map((e=>(0,p.jsx)("div",{className:w.itemWrap,children:e.name},e.name)))})]}),(0,p.jsxs)("div",{className:w.articleBlock,children:[(0,p.jsx)("p",{children:"Production studios"}),(0,p.jsx)("ul",{className:w.companiesList,children:null===t||void 0===t||null===(o=t.production_companies)||void 0===o?void 0:o.map((e=>(0,p.jsxs)("div",{className:"".concat(w.itemWrap," ").concat(w.compWrap),children:[(0,p.jsx)("span",{className:w.companyName,children:e.name}),(0,p.jsx)("div",{className:w.imgWrap,children:(0,p.jsx)("img",{className:w.companyImg,src:e.logo_path?"https://image.tmdb.org/t/p/w300".concat(e.logo_path):"https://pic.onlinewebfonts.com/thumbnails/icons_360869.svg",alt:""})})]},e.id)))})]})]})]})},k=()=>{const[e,s]=(0,o.useState)({}),[a,r]=(0,o.useState)({}),{movieId:l}=(0,i.UO)(),c=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{window.scrollTo({top:0,left:0});(async()=>{if(c.current){c.current=!1;try{const e=await t.TP(l);s(e);const a=await t.TP(l,"/videos");r(a)}catch(e){n().Notify.failure("Error")}}})()}),[l]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{movie:e}),(0,p.jsx)(b,{movie:e,movieVids:a}),(0,p.jsx)("div",{}),(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading...."}),children:(0,p.jsx)(i.j3,{})})]})}},1207:(e,s,a)=>{a.d(s,{TP:()=>n,XT:()=>r,z1:()=>l});var i=a(5294);const o="https://api.themoviedb.org/3",t="f331f91cb9692f1df13f3cba648b2743",r=async e=>(await(0,i.Z)({url:"".concat(o).concat(e,"?api_key=").concat(t),method:"GET"})).data.results,n=async(e,s)=>(await(0,i.Z)({url:"".concat(o,"/movie/").concat(e).concat(s,"?api_key=").concat(t),method:"GET"})).data,l=async e=>(await(0,i.Z)({url:"".concat(o,"/search/movie?api_key=").concat(t,"&query=").concat(e),method:"GET"})).data.results}}]);
//# sourceMappingURL=147.88a76e2d.chunk.js.map