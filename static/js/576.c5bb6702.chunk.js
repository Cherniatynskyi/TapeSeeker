"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[576],{8576:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var c=a(2791),o=a(1207);const s="SearchBar_form__gW7Gj",r="SearchBar_formButton__C-ydM",i="SearchBar_input__bIy50";var n=a(1686),l=a.n(n),u=a(184);const h=t=>{let{onSubmit:e}=t;const[a,o]=(0,c.useState)("");return(0,u.jsx)("header",{children:(0,u.jsxs)("form",{className:s,onSubmit:t=>{t.preventDefault(),a?e({query:a}):l().Notify.failure("Enter your search term")},children:[(0,u.jsx)("button",{className:r,type:"submit",children:(0,u.jsx)("span",{children:"Search"})}),(0,u.jsx)("input",{className:i,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:t=>{o(t.target.value)},value:a})]})})};var m=a(7689),d=a(1087);const _="MoviesList_moviesList__P6SP5",p="MoviesList_title__PB2c8",v=t=>{let{movies:e,location:a}=t;return(0,u.jsx)("ul",{className:_,children:e?e.map((t=>(0,u.jsxs)(d.rU,{to:"/"===a.pathname?"movies/".concat(t.id):"".concat(t.id),state:{from:a},children:[(0,u.jsx)("li",{children:(0,u.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):"https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg",alt:t.title})}),console.log(e)]},t.id))):(0,u.jsx)("h1",{className:p,children:"Search for Movies"})})},f=()=>{const[t,e]=(0,c.useState)(null),a=(0,m.TH)(),[s,r]=(0,d.lr)();(0,c.useEffect)((()=>{const t=s.get("q");(async()=>{if(t)try{const a=await o.z1(t);e(a),console.log("Fetched")}catch(a){l().Notify.failure("Error")}})()}),[s]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{onSubmit:t=>{let{query:e}=t;r({q:e})}}),(0,u.jsx)(v,{movies:t,location:a})]})}},1207:(t,e,a)=>{a.d(e,{C4:()=>r,TP:()=>n,jn:()=>i,z1:()=>l});var c=a(5294);const o="https://api.themoviedb.org/3",s="f331f91cb9692f1df13f3cba648b2743",r=async()=>(await(0,c.Z)({url:"".concat(o).concat("/trending/movie/day","?api_key=").concat(s),method:"GET"})).data.results,i=async()=>(await(0,c.Z)({url:"".concat(o).concat("/trending/tv/day","?api_key=").concat(s),method:"GET"})).data.results,n=async(t,e)=>(await(0,c.Z)({url:"".concat(o,"/movie/").concat(t).concat(e,"?api_key=").concat(s),method:"GET"})).data,l=async t=>(await(0,c.Z)({url:"".concat(o,"/search/movie?api_key=").concat(s,"&query=").concat(t),method:"GET"})).data.results}}]);
//# sourceMappingURL=576.c5bb6702.chunk.js.map