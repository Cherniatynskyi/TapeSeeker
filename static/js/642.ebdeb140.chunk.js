"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[642],{8642:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var i=s(2791),a=s(6227);const o="SearchBar_form__gW7Gj",r="SearchBar_formButton__C-ydM",l="SearchBar_input__bIy50";var n=s(1686),c=s.n(n),m=s(184);const u=e=>{let{onSubmit:t}=e;const[s,a]=(0,i.useState)("");return(0,m.jsx)("header",{children:(0,m.jsxs)("form",{className:o,onSubmit:e=>{e.preventDefault(),s?t({query:s}):c().Notify.failure("Enter your search term")},children:[(0,m.jsx)("button",{className:r,type:"submit",children:(0,m.jsx)("span",{children:"Search"})}),(0,m.jsx)("input",{className:l,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:e=>{a(e.target.value)},value:s})]})})};var v=s(7689),d=s(1087);const _="MoviesList_moviesList__P6SP5",h="MoviesList_title__PB2c8",p="MoviesList_moviesListItem__OFqms",x="MoviesList_img__v4jFC",j="MoviesList_movieTitle__CxO8p",f="MoviesList_thumbsContainer__8kNDv",g="MoviesList_thumb__xQkCm";var N=s(4869),y=s(1909);const b=e=>{let{movies:t,location:s}=e;return(0,m.jsx)("ul",{className:_,children:t?t.map((e=>{if(e.release_date)var t=e.release_date.split("-");return(0,m.jsx)(d.rU,{className:p,to:"/"===s.pathname?"movies/".concat(e.id):"".concat(e.id),state:{from:s},children:(0,m.jsxs)("li",{children:[(0,m.jsx)("img",{className:x,src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg",alt:e.title}),(0,m.jsx)("p",{className:j,children:e.title?e.title:e.name}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsxs)("span",{className:g,children:[" ",(0,m.jsx)(N.cZx,{size:"1.2em"})," ",t?t[0]:"2023"]}),(0,m.jsxs)("span",{className:g,children:[" ",(0,m.jsx)(y.MVI,{size:"1.2em"}),e.vote_average.toFixed(1)]}),(0,m.jsxs)("span",{className:g,children:[" ",(0,m.jsx)(y.$lZ,{size:"1.2em"}),e.original_language]})]})]})},e.id)})):(0,m.jsx)("h1",{className:h,children:"Search for Movies"})})},S="Movies_loadButton__M-KkQ",M="Movies_backToTopButton__7yEpE";var k=s(2202);const C=()=>{const[e,t]=(0,i.useState)(null),[s,o]=(0,i.useState)(1),r=(0,v.TH)(),[l,n]=(0,d.lr)(),_="/movies"===r.pathname?"movie":"tv",[h,p]=(0,i.useState)(_);(0,i.useEffect)((()=>{p((e=>(e!==_&&(console.log("change"),o(1),t(null)),_)));const e=l.get("q");e?(async e=>{try{const i=await a.z1(e,s,_);t((e=>e?[...e,...i]:i))}catch(i){c().Notify.failure("Error")}})(e):(async()=>{try{const e=await a.aV("movie"===h?"/trending/movie/day":"/trending/tv/day",s);t((t=>{const i=null===t||void 0===t?void 0:t.map((e=>e.id)),a=null===e||void 0===e?void 0:e.map((e=>e.id)),r=null===i||void 0===i?void 0:i.find((e=>a.includes(e)));if(t){if(r&&s<3)return console.log("Cleared",s),void o(1);if("movie"===h&&t[0].title||"tv"===h&&t[0].name)return console.log("PAGIN",s),[...t,...e]}return e}))}catch(e){c().Notify.failure("Error")}})()}),[l,s,r,h,_]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(u,{onSubmit:e=>{let{query:s}=e;o(1),n({q:s}),t(null)}}),(0,m.jsx)(b,{movies:e,location:r}),(0,m.jsx)("button",{className:S,onClick:()=>{o((e=>e+1))},children:"load more"}),(0,m.jsx)("button",{onClick:()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},className:M,children:(0,m.jsx)(k.ZTc,{size:"2em"})})]})}}}]);
//# sourceMappingURL=642.ebdeb140.chunk.js.map