{"version":3,"file":"static/js/565.d37b21c2.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList2.module.css?f581","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"formButton\":\"SearchBar_formButton__C-ydM\",\"input\":\"SearchBar_input__bIy50\"};","import { useState } from \"react\";\nimport css from './SearchBar.module.css'\nimport Notiflix from 'notiflix';\nimport { IoSearch } from \"react-icons/io5\";\n\nexport const SearchBar = ({onSubmit}) => {\n    const [query, setQuery] = useState('')\n\n    const handleChange = (e) => {\n        setQuery(e.target.value)\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if (!query) {\n        Notiflix.Notify.failure('Enter your search term')\n        return\n        }\n        onSubmit({query})\n        setQuery('')\n    }\n\n  \n        return (\n                <form className={css.form} onSubmit={handleSubmit} >\n                    <button className={css.formButton} type=\"submit\">\n                    <IoSearch size=\"1.3em\"/>\n                    </button>\n                    <input\n                        className={css.input}\n                        type=\"text\"\n                        placeholder=\"Search movies\"\n                        onChange={handleChange}\n                        value={query}\n                    />\n                </form>\n        )\n}","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"movieList2\":\"MoviesList_movieList2__Au0SC\",\"title\":\"MoviesList_title__PB2c8\",\"moviesListItem\":\"MoviesList_moviesListItem__OFqms\",\"img\":\"MoviesList_img__v4jFC\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\",\"thumbsContainer\":\"MoviesList_thumbsContainer__8kNDv\",\"thumb\":\"MoviesList_thumb__xQkCm\"};","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList2_moviesList__tXi97\",\"moviesListItem\":\"MoviesList2_moviesListItem__NXhtt\",\"img\":\"MoviesList2_img__bTQSX\"};","import stylesForGrid from './MoviesList.module.css'\nimport stylesForList from './MoviesList2.module.css'\nimport {Link} from 'react-router-dom'\nimport { CiCalendarDate } from \"react-icons/ci\";\nimport { MdStar } from \"react-icons/md\";\nimport { MdLanguage } from \"react-icons/md\";\n\nexport const MoviesList = ({movies, location, listStyle}) =>{\n    var css = listStyle ? stylesForGrid : stylesForList\n\n    return (<ul className={css.moviesList}>\n        {movies ? movies.map(movie => {\n            if(movie.release_date){\n                var splitted = movie.release_date.split(\"-\")   \n            }\n            return(\n             <Link className={css.moviesListItem} key={movie.id} to={location.pathname === '/' ? `movies/${movie.id}`: `${movie.id}`} state={{from: location}}>\n                    <img className={css.img} src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`: 'https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg'} alt={movie.title}/>\n                    <p className={css.movieTitle} >{movie.title ? movie.title : movie.name}</p>\n                    <div className={css.thumbsContainer}>\n                            <span className={css.thumb}> <CiCalendarDate size=\"1.2em\" /> {splitted ? splitted[0] : '2023'}</span>\n                            <span className={css.thumb}> <MdStar size=\"1.2em\" />{movie.vote_average.toFixed(1)}</span>\n                            <span className={css.thumb}> <MdLanguage size=\"1.2em\" />{movie.original_language}</span>\n                    </div>\n                    {!listStyle && \n                    <div>ADDDDD</div>\n                    }\n            </Link>)\n        }): <h1 className={css.title}>Search for Movies</h1>}\n    </ul>  )\n}\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesHeader\":\"Movies_moviesHeader__oVnRS\",\"filterMenu\":\"Movies_filterMenu__mF2Qt\",\"listStyle\":\"Movies_listStyle__KJzzC\",\"listStyleButton\":\"Movies_listStyleButton__jAuUG\",\"styleButtonActive\":\"Movies_styleButtonActive__n7IfG\",\"loadButton\":\"Movies_loadButton__M-KkQ\",\"backToTopButton\":\"Movies_backToTopButton__7yEpE\",\"mediaButtonContainer\":\"Movies_mediaButtonContainer__MvXa2\",\"mediaButton\":\"Movies_mediaButton__mlGKA\",\"mediaButtonActive\":\"Movies_mediaButtonActive__Dd-q0\",\"pagination\":\"Movies_pagination__wqHtT\",\"paginationButton\":\"Movies_paginationButton__abiwn\",\"paginationPage\":\"Movies_paginationPage__1TCym\"};","import { useState, useEffect} from \"react\"\nimport * as API from '../../services/movies-api'\nimport { SearchBar } from \"../../components/SearchBar/SearchBar\"\nimport {useSearchParams, useLocation } from 'react-router-dom'\nimport { MoviesList } from \"components/MoviesList/MoviesList\"\nimport css from './Movies.module.css'\nimport Notiflix from 'notiflix';\nimport { FaArrowUp } from \"react-icons/fa\";\nimport { FaList } from \"react-icons/fa\";\nimport { IoGrid } from \"react-icons/io5\";\nimport { Link } from \"react-router-dom\"\n\nconst Movies = () =>{\n    const [mediaType, setMediaType] = useState(true)\n    const [listStyle, setListStyle] = useState(true)\n    const [searchResult, setSearchResult] = useState(null)\n    const [page, setPage] = useState(1)\n    const location = useLocation()\n    const [searchParams, setSearchParams] = useSearchParams();\n    const type = location.pathname === \"/movies\" ? \"movie\" : \"tv\"\n\n\n    useEffect(() =>{\n        const q = searchParams.get('q')  \n        const fetchContent = async() =>{\n            if(mediaType){\n                const fetchedMovie = await API.getMoviesList(`/trending/movie/day`, page)\n                setSearchResult(fetchedMovie)\n            }\n            else {\n                const fetchedMovie = await API.getMoviesList(`/trending/tv/day`, page)\n                setSearchResult(fetchedMovie)\n            }\n        }\n        const getMoviesByQuery = async(q) =>{  \n            try{\n                const fetchedMovie = await API.searchMovies(q, page, type)\n                if(fetchedMovie.length === 0){\n                    Notiflix.Notify.failure('No more movies')\n                    return\n                }\n                setSearchResult(fetchedMovie)\n            }\n            catch(error){Notiflix.Notify.failure('Error')}\n        }\n        if(q){\n            getMoviesByQuery(q)\n            return\n        }\n        fetchContent()\n    })\n\n\n    const onBackToTop = () =>{\n        window.scrollTo({top: 0, left: 0, behavior: \"smooth\",});\n    }\n    \n    const formHandler = ({ query }) => {\n        setPage(1)\n        setSearchParams({q: query})\n        setSearchResult(null)\n    }\n\n    const handleMediaType =(e)=>{\n        if((mediaType && e.target.textContent === \"Movies\") || (!mediaType && e.target.textContent === \"Shows\")){\n           return \n        }\n        setSearchResult(null)\n        setPage(1)\n        setMediaType(prevState => !prevState)\n        \n    }\n\n    const handleChangePage = (e)=>{\n        onBackToTop()\n        if(e.target.id === 'dec'){\n            setPage(prev => prev - 1)  \n        }\n        else{\n            setPage(prev => prev + 1) \n        }\n    }\n\n    const handleListChange = (e)=>{\n        if((listStyle && e.target.id === \"grid\") || (!listStyle && e.target.id === \"list\")){\n            return \n         }\n         setListStyle(prev => !prev)\n         console.log(\"Change style\")\n         console.log(searchResult)\n    }\n    \n    return ( \n        <>\n            <div className={css.moviesHeader}>\n                <SearchBar onSubmit={formHandler}/>\n                <div className={css.mediaButtonContainer}>\n                    <Link to=\"/movies\" onClick={(e)=>handleMediaType(e)} className={`${css.mediaButton} ${mediaType && css.mediaButtonActive}`}>Movies</Link>\n                    <Link to=\"/tv\" onClick={(e)=>handleMediaType(e)} className={`${css.mediaButton} ${!mediaType && css.mediaButtonActive}`}>Shows</Link>\n                </div>\n                <ul className={css.filterMenu}>\n                        <li>genre</li>\n                        <li>year filter</li>\n                        <li>rating</li>\n                </ul>\n                <ul className={css.listStyle}>\n                    <button onClick={handleListChange} id=\"grid\" className={`${css.listStyleButton} ${listStyle && css.styleButtonActive}`}><IoGrid /></button>\n                    <button onClick={handleListChange} id=\"list\" className={`${css.listStyleButton} ${!listStyle && css.styleButtonActive}`}><FaList /></button>\n                </ul>\n            </div>\n            <MoviesList movies={searchResult} location={location} currentPage={page} listStyle={listStyle}/> \n            <div className={css.pagination}>\n                <button className={css.paginationButton} disabled={page === 1} onClick={(e)=>handleChangePage(e)} id=\"dec\">Back</button>\n                <span className={css.paginationPage}>{page}</span>\n                <button className={css.paginationButton} onClick={(e)=>handleChangePage(e)} id=\"inc\">Next</button>\n            </div>\n            <button onClick={onBackToTop} className={css.backToTopButton}><FaArrowUp size=\"2em\"/></button>\n            </>)\n}   \n\nexport default Movies\n\n"],"names":["SearchBar","_ref","onSubmit","query","setQuery","useState","_jsxs","className","css","e","preventDefault","Notiflix","failure","children","_jsx","type","IoSearch","size","placeholder","onChange","target","value","MoviesList","movies","location","listStyle","stylesForGrid","stylesForList","moviesList","map","movie","release_date","splitted","split","Link","moviesListItem","to","pathname","concat","id","state","from","img","src","poster_path","alt","title","movieTitle","name","thumbsContainer","thumb","CiCalendarDate","MdStar","vote_average","toFixed","MdLanguage","original_language","Movies","mediaType","setMediaType","setListStyle","searchResult","setSearchResult","page","setPage","useLocation","searchParams","setSearchParams","useSearchParams","useEffect","q","get","async","fetchedMovie","API","length","error","getMoviesByQuery","fetchContent","onBackToTop","window","scrollTo","top","left","behavior","handleMediaType","textContent","prevState","handleChangePage","prev","handleListChange","console","log","_Fragment","onClick","IoGrid","FaList","currentPage","disabled","FaArrowUp"],"sourceRoot":""}